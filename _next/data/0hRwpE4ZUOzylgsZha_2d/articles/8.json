{"pageProps":{"post":{"slug":"8","content":"かたおかです。\nいわゆるFOUCってやつですか。\nよくわかってないですが初期レンダリングまでにCSSが読み込まれてないせいでリロード後一瞬だけページ表示が崩れてしまいます。\nこのサイトもリロードするとちらちらして鬱陶しいのでどうにか直せないか試行錯誤してみます。\n\n## 試行錯誤１ - _document.tsxを作る\n`_document.tsx`を作って`EmotionCache`をしてみます。\nあまり理解してないですがサーバサイドレンダリングをうまく使って改善できるらしいです。\n<br/>\n\n-> 結果\nなんか若干良くなった気はする……？\nただまだちらつきはする\nSwiperとか使っててJSが重いページの方が症状は重そう\n逆に記事ページみたいなSwiper使ってないページはちらつきにくくなった\nJSの適用とCSSの適用にずれがある？？\nこっからどうすりゃいいんだー？\n\n## 試行錯誤２ - コンポーネントを読み込み完了するまで非表示する\n\nhttps://qiita.com/cawauchi/items/165f71cf67e90279a5d7\n\n↑のサイトを参考にした。\n`useEffect`が呼ばれるまでコンポーネントを表示しないので（おそらく）崩れることはなくなるはず。\n欠点としては読み込みが遅いページだと画面の初期表示まで時間がかかることかな？\nちらつくよりは全然いいので試してみる！\n<br/>\n\n-> 結果\nできた！！！\nリロードしても画面ちらつかなくなった！\n\n## まとめ\n試行錯誤でやったのでベストプラクティスではないかもですが、以下試しました。\n- `_document.tsx`で`EmotionCache`とかを使う。\n- `_app.tsx`でコンポーネント読み込み完了までページの要素を非表示にする。\n\n基本的に2点目を使えば解決はしそうですね。\n\nでは\n","title":"Next.js + MUIで画面がちらつく（FOUC問題）","posted_at":"","updated_at":"","tags":[{"name":"開発","color":"bfd4f2","description":""},{"name":"RibbonCMS","color":"fff03c","description":""},{"name":"Next.js","color":"E63EC8","description":""}],"description":"かたおかです。 いわゆるFOUCってやつですか。 よくわかってないですが初期レンダリングまでにCSSが読み込まれてないせいでリロード後一瞬だけページ表示が崩れてしまいます。 このサイトもリロードするとちらちらして鬱陶しいのでどうにか直せないか試行錯誤してみます。  ## 試行錯誤１ - _document.tsxを作る `_document.tsx`を作って`EmotionCache`をしてみます..."},"config":{"blog_title":"かたおかの雑談配信","site_introduction":"かたおかのブログです。主に趣味関係をだらだら書いていきます。日本文化が好きです。","copylight_name":"ShotaroKataoka","copylight_url":"https://github.com/ShotaroKataoka","issues_page_url":"https://github.com/ShotaroKataoka/ShotaroKataoka.github.io/issues","favicon_image_url":"https://user-images.githubusercontent.com/42331656/175220729-c255f8b0-e709-4efc-a8e6-dc2e29a92c35.png","author_name":"かたおか","author_introduction":"かたおかです。アイコンはみかん。","avatar_image_url":{"url":"https://user-images.githubusercontent.com/42331656/175183205-06dc6033-af20-44b9-ae3d-c3e68770a1f3.png","path":"/static/images/config/avatar.webp"},"sns":[{"name":"GitHub","url":"https://github.com/ShotaroKataoka"},{"name":"Twitter","url":"https://twitter.com/KataokaShotaro"},{"name":"Facebook","url":"https://www.facebook.com/profile.php?id=100014221270440"},{"name":"LinkedIn","url":"https://www.linkedin.com/in/shotarokataoka/"},{"name":"Instagram","url":"https://www.instagram.com/s.kataoka_/?hl=ja"}]},"postsMap":{"2":{"slug":"2","title":"テスト投稿","tags":[{"name":"日記","color":"006b75","description":""},{"name":"RibbonCMS","color":"fff03c","description":""}],"posted_at":"","content":"","updated_at":"","description":""},"5":{"slug":"5","title":"汎用版RibbonCMS完成！","tags":[{"name":"star","color":"fbca04","description":""},{"name":"開発","color":"bfd4f2","description":""},{"name":"RibbonCMS","color":"fff03c","description":""},{"name":"Next.js","color":"E63EC8","description":""}],"posted_at":"","content":"","updated_at":"","description":""},"6":{"slug":"6","title":"サムネイルのテスト！","tags":[{"name":"日記","color":"006b75","description":""}],"posted_at":"","content":"","updated_at":"","description":""},"7":{"slug":"7","title":"GitHub Actionsでビルドを高速化したい！","tags":[{"name":"開発","color":"bfd4f2","description":""},{"name":"RibbonCMS","color":"fff03c","description":""}],"posted_at":"","content":"","updated_at":"","description":""}},"metadata":{"https://qiita.com/akubi0w1/items/2f4bf5d3ce7e5e77dfd7":{"url_domain":"qiita.com","url_domain_link":"https://qiita.com","title":"GitHub Actionsのcacheでどハマりした - Qiita","description":"\n\nはじめに\n\nタイトルそのままのことがおこりました。\n\n4/15追記: 今回ハマったこと自体は、原因がわかり、形的に成功しているように見えるのですが、8割解決してないです。\nこちらも合わせてどうぞ...。\nGitHub Action...","image_url":"/static/images/external_ogp//f6c4804976e9c023caa6f5e40aa4d283.webp","site_name":"Qiita"},"https://qiita.com/cawauchi/items/165f71cf67e90279a5d7":{"url_domain":"qiita.com","url_domain_link":"https://qiita.com","title":"Next.jsで初期レンダリングの際のCSSが効かないときの対処法 - Qiita","description":"以下のように初期レンダリングの際に一瞬CSSが当たらない問題をFOUCというそうです\n\n\nCSS @importルールを使用している一部のページでは、MS Internet ExplorerのWindows版で、スタイル化されていない...","image_url":"/static/images/external_ogp//f484656886289537ccd4c7f5d46af69c.webp","site_name":"Qiita"}},"relatedPosts":[{"slug":"5","title":"汎用版RibbonCMS完成！","tags":[{"name":"star","color":"fbca04","description":""},{"name":"開発","color":"bfd4f2","description":""},{"name":"RibbonCMS","color":"fff03c","description":""},{"name":"Next.js","color":"E63EC8","description":""}],"posted_at":"","content":"","updated_at":"","description":""},{"slug":"7","title":"GitHub Actionsでビルドを高速化したい！","tags":[{"name":"開発","color":"bfd4f2","description":""},{"name":"RibbonCMS","color":"fff03c","description":""}],"posted_at":"","content":"","updated_at":"","description":""},{"slug":"2","title":"テスト投稿","tags":[{"name":"日記","color":"006b75","description":""},{"name":"RibbonCMS","color":"fff03c","description":""}],"posted_at":"","content":"","updated_at":"","description":""},{"slug":"6","title":"サムネイルのテスト！","tags":[{"name":"日記","color":"006b75","description":""}],"posted_at":"","content":"","updated_at":"","description":""}]},"__N_SSG":true}